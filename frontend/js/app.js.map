{"version":3,"sources":["app.js","components/login/home.js","components/login/register.js","components/phone-details/phone-details.component.js","components/phones-list/phones-list.component.js","components/welcome/welcome.js","templates.js","core/cart/cart.service.js","core/user/auth.service.js","core/user/user.service.js","components/addPost/addPost.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;iFCnEA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["'use strict';\r\n\r\n// Define the `phonecatApp` module\r\nvar app = angular.module('phonesApp', [\r\n    'ngRoute',\r\n    'phoneDetails',\r\n    'phonesList',\r\n    'home',\r\n    'register',\r\n    'addPost',\r\n    'welcome',\r\n    'headerInfo',\r\n    'auth',\r\n    'userService',\r\n    // 'cartService',\r\n]);\r\n\r\napp.config(['$locationProvider', '$routeProvider',\r\n    function config($locationProvider, $routeProvider) {\r\n        $locationProvider.hashPrefix('!');\r\n\r\n        $routeProvider.\r\n        when('/phones/:phoneId', {\r\n            template: '<phone-details></phone-details>'\r\n        }).\r\n        otherwise({\r\n            redirectTo: '/phones'\r\n        });\r\n    }\r\n]);\r\n\r\napp.controller('loginCtrl', function($scope, $location) {\r\n    $scope.submit = function() {\r\n        var uname = $scope.username;\r\n        var password = $scope.password;\r\n        if ($scope.username === 'admin' && $scope.password === 'admin') {\r\n            $location.path('dashboard');\r\n        }\r\n    };\r\n});\r\n","'use strict';\r\nangular.module('home', ['ngRoute', 'firebase', 'auth'])\r\n    // Определение маршрута\r\n    .config(['$routeProvider', function($routeProvider) {\r\n        $routeProvider.when('/home', {\r\n            templateUrl: 'partials/components/login/home.html',\r\n            controller: 'HomeCtrl'\r\n        });\r\n    }])\r\n\r\n.controller('HomeCtrl', ['$scope', 'singIn', function($scope, singIn) {\r\n  $scope.user = {\r\n    email: '',\r\n    password: ''\r\n  }\r\n    $scope.signIn = function() {\r\n        singIn.authorization($scope.user.email, $scope.user.password);\r\n    }\r\n}]);\r\n","'use strict';\r\n\r\nangular.module('register', ['ngRoute', 'firebase', 'auth'])\r\n\r\n// Declared route\r\n.config(['$routeProvider', function($routeProvider) {\r\n    $routeProvider.when('/register', {\r\n        templateUrl: 'partials/components/login/register.html',\r\n        controller: 'RegisterCtrl'\r\n    });\r\n}])\r\n\r\n\r\n.controller('RegisterCtrl', ['$scope', 'singOut', function($scope, singOut) {\r\n  $scope.user = {\r\n    email: '',\r\n    password: ''\r\n  }\r\n    $scope.singOut = function() {\r\n        singOut.registration($scope.user.email, $scope.user.password);\r\n    }\r\n}]);\r\n","'use strict';\r\n\r\n// Register `phoneDetail` component, along with its associated controller and template\r\nangular.module('phoneDetails', [])\r\n    .component('phoneDetails', {\r\n        templateUrl: '/partials/components/phone-details/phone-details.template.html',\r\n        controller: ['$http', '$routeParams',\r\n            function PhoneDetailController($http, $routeParams) {\r\n                var self = this;\r\n\r\n                self.setImage = function setImage(imageUrl) {\r\n                    self.mainImageUrl = imageUrl;\r\n                };\r\n\r\n                $http.get('data/phone/' + $routeParams.phoneId + '.json').then(function(response) {\r\n                    self.phone = response.data;\r\n                    self.setImage(self.phone.images[0]);\r\n                });\r\n            }\r\n        ]\r\n    })\r\n    .config(['$routeProvider', function($routeProvider) {\r\n        $routeProvider.when('/phoneDetails', {\r\n            templateUrl: '/partials/components/phone-details/phone-details.template.html',\r\n            controller: 'phonePost'\r\n        });\r\n    }]);\r\n","'use strict';\r\n\r\n// Register `phoneList` component, along with its associated controller and template\r\nangular.module('phonesList', ['ngRoute', 'firebase', 'cartService'])\r\n\r\n.component('phonesList', {\r\n    templateUrl: '/partials/components/phones-list/phones-list.template.html',\r\n    controller: ['$http', function PhoneListController($http) {\r\n        var self = this;\r\n        self.orderProp = 'age';\r\n\r\n        $http.get('data/phone/phones.json').then(function(response) {\r\n            self.phones = response.data;\r\n        });\r\n    }]\r\n})\r\n\r\n.config(['$routeProvider', function($routeProvider) {\r\n    $routeProvider.\r\n    when('/phones', {\r\n        template: '<phones-list></phone-list>',\r\n        controller: 'WelcomeCtrl'\r\n    });\r\n}])\r\n\r\n.controller('userCart', ['$scope', '$firebase', '$location', 'UserData', 'cart', function($scope, $firebase, $location, CommonProp, cart) {\r\n    $scope.userService = CommonProp;\r\n\r\n    $scope.isLogIn = function() {\r\n        if (!$scope.userService.username) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\n    $scope.products = [];\r\n\r\n    $scope.addProducts = function(data) {\r\n        cart.addProducts(data);\r\n    }\r\n\r\n    $scope.getProducts = function() {\r\n        $scope.products = cart.getProducts();\r\n    }\r\n\r\n    $scope.addProducts = function(data) {\r\n        cart.addProducts(data);\r\n    }\r\n\r\n    // for modal\r\n    $('.modal-trigger').leanModal({\r\n        dismissible: true, // Modal can be dismissed by clicking outside of the modal\r\n        opacity: .5, // Opacity of modal background\r\n        in_duration: 300, // Transition in duration\r\n        out_duration: 200, // Transition out duration\r\n        starting_top: '4%', // Starting top style attribute\r\n        ending_top: '10%', // Ending top style attribute\r\n        ready: function() {}, // Callback for Modal open\r\n        complete: function() {} // Callback for Modal close\r\n    });\r\n\r\n}]);\r\n","'use strict';\r\n\r\nangular.module('welcome', ['ngRoute'])\r\n\r\n.config(['$routeProvider', function($routeProvider) {\r\n    $routeProvider.when('/welcome', {\r\n        templateUrl: 'partials/components/welcome/welcome.html',\r\n        controller: 'WelcomeCtrl'\r\n    });\r\n}])\r\n\r\n.controller('WelcomeCtrl', ['$scope', '$firebase', 'UserData', function($scope, $firebase, CommonProp) {\r\n    $scope.username = CommonProp.getUser();\r\n    var firebaseObj = new Firebase(\"https://blistering-heat-2473.firebaseio.com/Articles\");\r\n\r\n\r\n    var sync = $firebase(firebaseObj);\r\n\r\n    $scope.articles = sync.$asArray();\r\n    $scope.editPost = function(id) {\r\n        console.log(id);\r\n        var firebaseObj = new Firebase(\"https://blistering-heat-2473.firebaseio.com/Articles/\" + id);\r\n\r\n\r\n        var syn = $firebase(firebaseObj);\r\n        $scope.postToUpdate = syn.$asObject();\r\n\r\n        $('#editModal').modal();\r\n    }\r\n\r\n    $scope.update = function() {\r\n        console.log($scope.postToUpdate.$id);\r\n        var fb = new Firebase(\"https://blistering-heat-2473.firebaseio.com/Articles/\" + $scope.postToUpdate.$id);\r\n        var article = $firebase(fb);\r\n        article.$update({\r\n            title: $scope.postToUpdate.title,\r\n            post: $scope.postToUpdate.post,\r\n            emailId: $scope.postToUpdate.emailId\r\n        }).then(function(ref) {\r\n            console.log(ref.key()); // bar\r\n            $('#editModal').modal('hide')\r\n        }, function(error) {\r\n            console.log(\"Error:\", error);\r\n        });\r\n\r\n    }\r\n\r\n\r\n    $scope.confirmDelete = function(id) {\r\n        var fb = new Firebase(\"https://blistering-heat-2473.firebaseio.com/Articles/\" + id);\r\n        var article = $firebase(fb);\r\n        $scope.postToDelete = article.$asObject();\r\n        $('#deleteModal').modal();\r\n    }\r\n\r\n    $scope.deletePost = function() {\r\n        var fb = new Firebase(\"https://blistering-heat-2473.firebaseio.com/Articles/\" + $scope.postToDelete.$id);\r\n        var article = $firebase(fb);\r\n        article.$remove().then(function(ref) {\r\n            $('#deleteModal').modal('hide');\r\n        }, function(error) {\r\n            console.log(\"Error:\", error);\r\n        });\r\n    }\r\n}]);\r\n\r\n//# sourceMappingURL=app.js.map\r\n",null,"angular.module('cartService', ['ngRoute', 'firebase'])\r\n\r\n.service('cart', ['$location', function($location) {\r\n    this.products = [];\r\n    this.addProducts = function(data) {\r\n        this.products.push(data);\r\n        localStorage.prod = JSON.stringify(this.products);\r\n        console.log(this.products);\r\n    }\r\n\r\n    this.getProducts = function() {\r\n        return JSON.parse(localStorage.prod);\r\n    }\r\n}]);\r\n","'use strict';\r\n\r\nangular.module('auth', ['ngRoute', 'firebase'])\r\n\r\n.service('singIn', ['$location', 'UserData', '$firebaseAuth', function($location, UserData, $firebaseAuth) {\r\n    var firebaseObj = new Firebase(\"https://blistering-heat-2473.firebaseio.com\");\r\n    var loginObj = $firebaseAuth(firebaseObj);\r\n\r\n    this.authorization = function(username, password) {\r\n        loginObj.$authWithPassword({\r\n                email: username,\r\n                password: password\r\n            })\r\n            .then(function(user) {\r\n                $location.path('/phones');\r\n                UserData.setUser(user.password.email);\r\n                console.log('Authentication successful');\r\n            }, function(error) {\r\n                //Failure callback\r\n                console.log('Authentication failure');\r\n            });\r\n    }\r\n}])\r\n\r\n.service('singOut', ['$location', '$firebaseAuth', function($location, $firebaseAuth) {\r\n    var firebaseObj = new Firebase(\"https://blistering-heat-2473.firebaseio.com\");\r\n    var auth = $firebaseAuth(firebaseObj);\r\n    this.registration = function(email, password) {\r\n        if (email && password) {\r\n            auth.$createUser(email, password)\r\n                .then(function() {\r\n                    console.log('User creation success');\r\n                    $location.path('/home');\r\n                }, function(error) {\r\n                    console.log(error);\r\n                    $scope.regError = true;\r\n                    $scope.regErrorMessage = error.message;\r\n                });\r\n        }\r\n    };\r\n}])\r\n\r\n.service('UserData', function() {\r\n    var self = this;\r\n    this.setUser = function(value) {\r\n        localStorage.setItem(\"userEmail\", value);\r\n        this.username = value;\r\n    }\r\n    this.getUser = function() {\r\n        self.username = localStorage.getItem('userEmail');\r\n        return self.username;\r\n    }\r\n});\r\n","angular.module('headerInfo', [])\r\n\r\n.controller('header', ['$scope', '$firebase', '$location', 'UserData', function($scope, $firebase, $location, CommonProp) {\r\n    $scope.userService = CommonProp;\r\n\r\n    $scope.isLogIn = function() {\r\n        if (!$scope.userService.username) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n}]);\r\n\r\nangular.module('userService', [])\r\n\r\n.controller('phonePost', ['$scope', '$firebase', 'UserData', function($scope, $firebase, UserData) {\r\n    $scope.username = UserData.getUser();\r\n    var firebaseObj = new Firebase(\"https://blistering-heat-2473.firebaseio.com/Articles\");\r\n\r\n    $scope.isLogIn = function() {\r\n        if (!$scope.username) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    var sync = $firebase(firebaseObj);\r\n\r\n    $scope.articles = sync.$asArray();\r\n    $scope.AddPost = function() {\r\n        var title = $scope.article.title;\r\n        var post = $scope.article.post;\r\n\r\n        var firebaseObj = new Firebase(\"https://blistering-heat-2473.firebaseio.com/Articles\");\r\n        var fb = $firebase(firebaseObj);\r\n\r\n        fb.$push({\r\n            title: title,\r\n            post: post,\r\n            emailId: UserData.getUser()\r\n        }).then(function(ref) {\r\n            console.log(ref);\r\n            $location.path('/');\r\n        }, function(error) {\r\n            console.log(\"Error:\", error);\r\n        });\r\n    }\r\n\r\n    $scope.editPost = function(id) {\r\n        console.log(id);\r\n        var firebaseObj = new Firebase(\"https://blistering-heat-2473.firebaseio.com/Articles/\" + id);\r\n\r\n\r\n        var syn = $firebase(firebaseObj);\r\n        $scope.postToUpdate = syn.$asObject();\r\n\r\n        $('#editModal').modal();\r\n    }\r\n\r\n    $scope.update = function() {\r\n        console.log($scope.postToUpdate.$id);\r\n        var fb = new Firebase(\"https://blistering-heat-2473.firebaseio.com/Articles/\" + $scope.postToUpdate.$id);\r\n        var article = $firebase(fb);\r\n        article.$update({\r\n            title: $scope.postToUpdate.title,\r\n            post: $scope.postToUpdate.post,\r\n            emailId: $scope.postToUpdate.emailId\r\n        }).then(function(ref) {\r\n            console.log(ref.key()); // bar\r\n            $('#editModal').modal('hide')\r\n        }, function(error) {\r\n            console.log(\"Error:\", error);\r\n        });\r\n\r\n    }\r\n\r\n\r\n    $scope.confirmDelete = function(id) {\r\n        var fb = new Firebase(\"https://blistering-heat-2473.firebaseio.com/Articles/\" + id);\r\n        var article = $firebase(fb);\r\n        $scope.postToDelete = article.$asObject();\r\n        $('#deleteModal').modal();\r\n    }\r\n\r\n    $scope.deletePost = function() {\r\n        var fb = new Firebase(\"https://blistering-heat-2473.firebaseio.com/Articles/\" + $scope.postToDelete.$id);\r\n        var article = $firebase(fb);\r\n        article.$remove().then(function(ref) {\r\n            $('#deleteModal').modal('hide');\r\n        }, function(error) {\r\n            console.log(\"Error:\", error);\r\n        });\r\n    }\r\n}]);\r\n","'use strict';\r\n\r\nangular.module('addPost', ['ngRoute'])\r\n\r\n.config(['$routeProvider', function($routeProvider) {\r\n    $routeProvider.when('/addPost', {\r\n        templateUrl: 'partials/components/addPost/addPost.html',\r\n        controller: 'AddPostCtrl'\r\n    });\r\n}])\r\n\r\n.controller('AddPostCtrl', ['$scope', '$firebase', '$location', 'CommonProp', function($scope, $firebase, $location, CommonProp) {\r\n    $scope.AddPost = function() {\r\n        var title = $scope.article.title;\r\n        var post = $scope.article.post;\r\n\r\n        var firebaseObj = new Firebase(\"https://blistering-heat-2473.firebaseio.com/Articles\");\r\n        var fb = $firebase(firebaseObj);\r\n\r\n        fb.$push({\r\n            title: title,\r\n            post: post,\r\n            emailId: CommonProp.getUser()\r\n        }).then(function(ref) {\r\n            console.log(ref);\r\n            $location.path('/');\r\n        }, function(error) {\r\n            console.log(\"Error:\", error);\r\n        });\r\n    }\r\n\r\n    $scope.products = [\"Milk\", \"Bread\", \"Cheese\"];\r\n    $scope.addItem = function () {\r\n        $scope.products.push($scope.addMe);\r\n    }\r\n\r\n}]);\r\n"],"sourceRoot":"/source/"}